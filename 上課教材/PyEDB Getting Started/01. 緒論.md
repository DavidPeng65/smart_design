第1章 緒論
---

ANSYS EDB 檔案格式（Electronics Database File）是 ANSYS 電子設計自動化（EDA）工具中用來儲存印刷電路板（PCB）和封裝設計資料的專有格式，主要在 ANSYS HFSS 3D Layout 和 ANSYS SIwave 等工具中使用。

### 1.1 EDB 檔案的儲存資訊 

1. **材料（Materials）** 
存儲有關用於製造電路板的各種材料的資訊，例如導電材料、絕緣材料等，這些特性對於分析電路板的電氣特性至關重要。

2. **堆疊結構（Stackup）** 
描述PCB的層疊結構，包括各層的材料、厚度和其他物理特性。這對於理解電路板的整體設計和性能非常重要。

3. **網絡（Nets）** 
表示電路板上的電氣連接。一個網絡包括連接一組電子元件的導體，這些元件共享電氣特性。

4. **層（Layers）**
PCB中的各個層次，每一層可以包含信號層、地層或電源層等不同的功能層。
5. **墊片（Padstacks）** 
描述孔的結構，這些孔用於放置連接元件引腳的通孔或埋孔。每個墊片可以包含有關孔徑、形狀、用於連接的層等信息。

6. **引腳（Pins）** 
元件引腳的資料，通常是與特定的墊片相關聯，用於建立元件與PCB上其他元件或網絡的物理和電氣連接。

7. **元件（Components）** 
涉及的所有電子元件資訊，如晶片、電阻、電容等，包括它們的規格、位置和方向。

8. **激勵（Excitations）** 
用於模擬中的電源激勵設置，指定哪些信號或功率將進入電路系統，用於性能分析。

9. **端口（Ports**） 
用於模擬的界面，允許模擬中的信號進出，這些通常用於高頻信號傳輸特性分析。

10. **探針（Probes）** 
用於測量和分析電路中特定點的電氣特性的虛擬設備。

11. **設定（Setups）** 
包含模擬設定，如頻率範圍、解析度和其他參數，這些設定確定了模擬執行的具體條件。

### 1.2 EDB 檔案的用途 
 
- **電磁模擬** ：在 ANSYS HFSS 3D Layout 中，EDB 檔案可用來執行 3D 電磁場模擬，特別適合於高頻電路的模擬與優化。
 
- **訊號與電源完整性分析** ：在 ANSYS SIwave 中，EDB 檔案用於進行訊號完整性（Signal Integrity, SI）和電源完整性（Power Integrity, PI）的分析，這在高速 PCB 設計中尤為重要。
 
- **熱模擬** ：EDB 檔案也能與 ANSYS Icepak 結合，進行熱分析，尤其是電路板上高發熱區域的熱管理設計。

### 1.3 與其他格式的相容性 

ANSYS EDB 檔案可以從其他常見的 PCB 設計工具中匯入，例如：
 
- **Altium Designer** ：支援 ODB++ 格式匯入，然後轉換為 EDB 格式。
 
- **Mentor Graphics 和 Cadence** ：可經由 IPC-2581、Gerber 等格式將設計檔案轉換為 EDB 以供模擬使

總結來說，EDB 檔案格式主要是用來支援 PCB 相關的電磁、訊號與電源完整性、以及熱模擬分析，在 ANSYS 軟體生態中發揮著重要作用。

### 1.4 aedb目錄的組成

從圖片中可以看到，.aedb目錄包括以下兩個主要文件或文件夾： 
1. **stride 文件夾**  - 這個文件夾包含與特定設計的步進數據或版本有關的信息。通常這樣的文件夾會用於組織和存儲過程中的臨時數據或具有不同設計階段的數據。
 
2. **edb.def 文件**  - 包含定義電子數據庫中特定部分的設定信息。這類文件一般用於保存設計的定義參數，使得用戶能夠按照既定的規範重用或修改設計。
![2024-08-20_09-23-59](/assets/2024-08-20_09-23-59.png)

### 1.5 PyEDB 簡介

`pyedb` 是一個用於訪問和操作 Ansys Electronics Desktop (AEDT) 中的 Electronics DataBase (EDB) 的 Python 接口。EDB 是一個專為存儲和管理電子組件和電路設計數據的數據庫格式，廣泛用於高頻和電磁仿真應用中。以下是 `pyedb` 的一些主要功能： 
1. **數據訪問和管理** ：`pyedb` 提供了一種直接從 Python 腳本訪問和操作 EDB 數據的方法。用戶可以讀取、修改、新增或刪除電路設計中的元件和層次結構，而無需打開圖形用戶界面。
 
2. **自動化和整合** ：通過 `pyedb`，開發者和設計師可以在 Python 環境中自動化常見的設計和分析任務，如參數修改、設計優化、數據擷取等，並且可以將其與其他工具和流程融合。
 
3. **擴展功能** ：利用 Python 的強大功能和豐富的庫，`pyedb` 使得用戶可以擴展電子設計的分析能力，實現複雜的數據處理、統計分析和機器學習整合。
 
4. **用戶自定義腳本** ：用戶可以撰寫自定義的 Python 腳本來直接操作 EDB 中的數據，提高設計和分析的靈活性和效率。

### 1.6 支援格式與轉換流程概述

要從其他文件格式如 `.brd`（電路板設計文件），`.gdsII`（積體電路設計），或 `.odb++`（PCB 和封裝設計的數據交換格式）轉換成 `.aedb`（Ansys Electronics DataBase），您可以通過以下幾種方法： 

1. **使用 Ansys Electronics Desktop (AEDT)** ： 
Ansys 提供了導入工具來直接將這些文件類型導入到 AEDT 中，然後可以將導入的設計保存為 `.aedb` 格式。在 AEDT 中打開應用程序，選擇相應的導入選項，載入您的 `.brd` 或 `.odb++` 文件，並按照提示進行操作來完成導入和保存過程。

 
2. **使用PyEDB** ： 
PyEDB 是一款強大的工具，允許用戶直接從 Python 環境中訪問和操作 Ansys Electronics Database（EDB）。它不僅提供了操作 EDB 的接口，還支援將多種常見的電子設計文件格式轉換為 `.aedb` 格式。這些格式包括 PCB 設計文件的 `BRD`、用於 PCB 和組件製造的 `IPC2581 XML`、積體電路設計的 `GDSII`，以及 CAD 繪圖的 `DXF` 文件。

```python
edb = Edb("D:/demo/Galileo_G87173_204.brd", edbversion='2024.1')
```